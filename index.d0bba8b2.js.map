{"mappings":"gfAAAA,EAAA,SAIA,IAAMC,EAAeC,SAASC,cAAc,qBAE5CF,EAAaG,iBAAiB,SAwE9B,SAAyBC,GACvB,IAAMC,EAAUD,EAAME,OAAOC,QAAQC,OAGjCC,OAAOJ,GACTK,EAAOD,OAAOJ,IAEE,UAAZA,IACFK,GAAQ,GAEM,SAAZL,IACFK,GAAQ,GAEM,eAAZL,IACFK,GAZS,GAcK,cAAZL,IACFK,GAfS,IAmBbC,EA3Fe,GA2FcD,MA3F/B,IACIA,EAAO,EAIX,SAASC,EAAiBC,EAAYC,GACpC,IAAIC,EAAiB,GAEjBC,EAAaF,EAAO,EACpBG,EAAYH,EAAO,EAEnBA,EAAO,IACTC,GAAmB,oHAKjBD,EAAO,IACTC,GAAmB,8FACfD,EAAO,IACTC,GAAmB,yGAInBD,IAASD,EACXG,GAA0B,EACjBF,IAASD,EAAa,IAC/BG,GAA0B,GAGf,IAATF,EACFG,GAAwB,EACN,IAATH,IACTG,GAAwB,GAG1B,IAAK,IAAIC,EAAUF,EAAYE,GAAWD,EAAWC,IAC/CA,EAAUL,IAIE,IAAZK,IACFA,GAAoB,GAQtBH,GAAkB,+BAA4FI,OAL1GL,IAASI,EACE,aAEA,GAE6C,oDAA8DC,OAAZD,EAAQ,MAAYC,OAARD,EAAQ,iBAiBpI,OAdIJ,EAAOD,EAAa,IAClBC,EAAOD,EAAa,IACtBE,GAAmB,uGAErBA,GAAkB,8EAA6FI,OAAfN,EAAW,MAAeM,OAAXN,EAAW,iBAGxHC,EAAOD,IACTE,GAAmB,kHAKrBd,EAAamB,UAAYL,EAClBA,EAhETd,EAAamB,UAAYR,EAHR,GAGqCD,G","sources":["src/js/template/pagination.js"],"sourcesContent":["import { MovieService } from '../service/fetchItems';\n\n// console.log(MovieService.getMovieTrend());\n\nconst paginationEl = document.querySelector('.pagination__list');\n\npaginationEl.addEventListener('click', onRenderGallery);\n\nlet totalPages = 50;\nlet page = 1;\n\npaginationEl.innerHTML = createPagination(totalPages, page);\n\nfunction createPagination(totalPages, page) {\n  let paginationItem = '';\n  let activePage = '';\n  let beforePage = page - 1;\n  let afterPage = page + 1;\n\n  if (page > 1) {\n    paginationItem += `<li class=\"pagination__item\">\n      <span class=\"pagination__btn-minus\" data-action=\"minus\">-</span>\n    </li>`;\n  }\n\n  if (page > 2) {\n    paginationItem += `<li class=\"pagination__item\"><span class=\"pagination__number\" data-action=\"1\">1</span></li>`;\n    if (page > 3) {\n      paginationItem += `<li class=\"pagination__item\"><span class=\"pagination__dots\" data-action=\"dots-minus\">...</span></li>`;\n    }\n  }\n\n  if (page === totalPages) {\n    beforePage = beforePage - 2;\n  } else if (page === totalPages - 1) {\n    beforePage = beforePage - 1;\n  }\n\n  if (page === 1) {\n    afterPage = afterPage + 2;\n  } else if (page === 2) {\n    afterPage = afterPage + 1;\n  }\n\n  for (let plength = beforePage; plength <= afterPage; plength++) {\n    if (plength > totalPages) {\n      continue;\n    }\n\n    if (plength === 0) {\n      plength = plength + 1;\n    }\n\n    if (page === plength) {\n      activePage = 'activePage';\n    } else {\n      activePage = '';\n    }\n    paginationItem += `<li class=\"pagination__item ${activePage}\"><span class=\"pagination__number\" data-action=\"${plength}\">${plength}</span></li>`;\n  }\n\n  if (page < totalPages - 1) {\n    if (page < totalPages - 2) {\n      paginationItem += `<li class=\"pagination__item\"><span class=\"pagination__dots\" data-action=\"dots-plus\">...</span></li>`;\n    }\n    paginationItem += `<li class=\"pagination__item\"><span class=\"pagination__number\" data-action=\"${totalPages}\">${totalPages}</span></li>`;\n  }\n\n  if (page < totalPages) {\n    paginationItem += `<li class=\"pagination__item\">\n      <span class=\"pagination__btn-plus\" data-action=\"plus\">+</span>\n    </li>`;\n  }\n\n  paginationEl.innerHTML = paginationItem;\n  return paginationItem;\n}\n\nfunction onRenderGallery(event) {\n  const dataSet = event.target.dataset.action;\n  const dots = 3;\n\n  if (Number(dataSet)) {\n    page = Number(dataSet);\n  } else {\n    if (dataSet === 'minus') {\n      page -= 1;\n    }\n    if (dataSet === 'plus') {\n      page += 1;\n    }\n    if (dataSet === 'dots-minus') {\n      page -= dots;\n    }\n    if (dataSet === 'dots-plus') {\n      page += dots;\n    }\n  }\n\n  createPagination(totalPages, page);\n}\n"],"names":["parcelRequire","$0f7a527b768a88ee$var$paginationEl","document","querySelector","addEventListener","event","dataSet","target","dataset","action","Number","$0f7a527b768a88ee$var$page","$0f7a527b768a88ee$var$createPagination","totalPages1","page1","paginationItem","beforePage","afterPage","plength","concat","innerHTML"],"version":3,"file":"index.d0bba8b2.js.map"}